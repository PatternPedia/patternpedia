@prefix : <http://purl.org/patternpedia#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix xml: <http://www.w3.org/XML/1998/namespace> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@base <http://purl.org/patternpedia> .

<http://purl.org/patternpedia> rdf:type owl:Ontology ;
                               owl:imports <http://purl.org/patternpedia/cloudcomputingpatterns> ,
                                           <http://purl.org/patternpedia/internetofthingspatterns> .

#################################################################
#    Object Properties
#################################################################

###  http://purl.org/patternpedia#containsPattern
:containsPattern rdf:type owl:ObjectProperty ;
                 rdfs:domain :PatternLanguage ;
                 rdfs:range :Pattern .

 ###  http://purl.org/patternpedia#containsPattern
 :containsPatternRelationDescriptors rdf:type owl:ObjectProperty ;
                  rdfs:domain :PatternLanguage ;
                  rdfs:range :Pattern .

###  http://purl.org/patternpedia#containsPatternGraph
:containsPatternGraph rdf:type owl:ObjectProperty ;
                         rdfs:domain :PatternPedia ;
                         rdfs:range :PatternLanguage .


###  http://purl.org/patternpedia#hasPatternRelation
:hasPatternRelation rdf:type owl:ObjectProperty ;
                    rdfs:domain :Pattern ;
                    rdfs:range :PatternRelationDescriptor .


###  http://purl.org/patternpedia#hasRelatedPattern
:hasRelatedPattern rdf:type owl:ObjectProperty .


###  http://purl.org/patternpedia#hasSource
:hasSource rdf:type owl:ObjectProperty ;
           rdfs:domain :PatternRelationDescriptor ;
           rdfs:range :Pattern .


###  http://purl.org/patternpedia#hasTarget
:hasTarget rdf:type owl:ObjectProperty ;
           rdfs:domain :PatternRelationDescriptor ;
           rdfs:range :Pattern .
           
           
# description of e.g. of a relation
###  http://purl.org/patternpedia#hasDescription
:hasDescription
    rdf:type owl:ObjectProperty ;
    rdfs:domain :PatternRelationDescriptor ;
    rdfs:range xsd:string .

###  http://purl.org/patternpedia#hasPattern
:hasPattern 
    rdf:type owl:ObjectProperty ;
    rdfs:range :Pattern .

###  http://purl.org/patternpedia#hasLabel    
:hasLabel
    rdf:type owl:ObjectProperty ;
    rdfs:range xsd:string .

#################################################################
#    Datatype properties
#################################################################

###  http://purl.org/patternpedia#hasLogo
:hasLogo rdf:type owl:DatatypeProperty .


###  http://purl.org/patternpedia#hasName
:hasName rdf:type owl:DatatypeProperty .


#################################################################
#    Classes
#################################################################

###  http://purl.org/patternpedia#Pattern
:Pattern rdf:type owl:Class ;
         rdfs:subClassOf [ rdf:type owl:Restriction ;
                           owl:onProperty :hasName ;
                           owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger ;
                           owl:onDataRange xsd:string
                         ] .

###  http://purl.org/patternpedia#PatternGraph
:PatternGraph rdf:type owl:Class ;
                 rdfs:subClassOf [ rdf:type owl:Restriction ;
                                   owl:onProperty :hasLogo ;
                                   owl:allValuesFrom xsd:anyURI
                                 ] ,
                                 [ rdf:type owl:Restriction ;
                                   owl:onProperty :hasName ;
                                   owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger ;
                                   owl:onDataRange xsd:string
                                 ] .

###  http://purl.org/patternpedia#PatternLanguage
:PatternLanguage rdf:type owl:Class ;
                 rdfs:subClassOf :PatternGraph .

###  http://purl.org/patternpedia#PatternView
:PatternView rdf:type owl:Class ;
                 rdfs:subClassOf :PatternGraph .

###  http://purl.org/patternpedia#PatternPedia
:PatternPedia rdf:type owl:Class ;
              rdfs:subClassOf [ rdf:type owl:Restriction ;
                                owl:onProperty :containsPatternGraph ;
                                owl:allValuesFrom :PatternGraph
                              ] ,
                              [ rdf:type owl:Restriction ;
                                owl:onProperty :hasName ;
                                owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger ;
                                owl:onDataRange xsd:string
                              ] ,
                              [ rdf:type owl:Restriction ;
                                owl:onProperty :hasLogo ;
                                owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger ;
                                owl:onDataRange xsd:anyURI
                              ] .


###  http://purl.org/patternpedia#PatternRelationDescriptor
:PatternRelationDescriptor rdf:type owl:Class ;
                           rdfs:subClassOf [ rdf:type owl:Restriction ;
                                             owl:onProperty :hasSource ;
                                             owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger ;
                                             owl:onClass :Pattern
                                           ] ,
                                           [ rdf:type owl:Restriction ;
                                             owl:onProperty :hasTarget ;
                                             owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger ;
                                             owl:onClass :Pattern
                                           ] .

# Describes the relation between two patterns in a directed manner, i.e. with a source and a target pattern
# The meaning of the direction depends on the specific use case
# We can have multiple description string per descriptor. Description is optional
###  http://purl.org/patternpedia#DirectedPatternRelationDescriptor
:DirectedPatternRelationDescriptor 
    rdf:type owl:Class ;
    rdfs:subClassOf :PatternRelationDescriptor ,
        [ rdf:type owl:Restriction ;
          owl:onProperty :hasDescription ;
          owl:allValuesFrom xsd:string 
        ] .
        
# Describes the relation between exactly two patterns without any direction.
# Contains any number of descriptions
###  http://purl.org/patternpedia#UndirectedPatternRelationDescriptor
:UndirectedPatternRelationDescriptor
    rdf:type owl:Class ;
    rdfs:subClassOf [ rdf:type owl:Restriction ;
                      owl:onProperty :hasPattern ;
                      owl:qualifiedCardinality "2"^^xsd:nonNegativeInteger ;
                      owl:onClass :Pattern
                    ] ,
                    [ rdf:type owl:Restriction ;
                      owl:onProperty :hasDescription ;
                      owl:allValuesFrom xsd:string
                    ] .
        
# Hyperedges describe the relation of a set of patterns
# It has any number of patterns, any number of descriptions, and a single label for displaying purposes
###  http://purl.org/patternpedia#PatternSetRelationDescriptor
:PatternSetRelationDescriptor
    rdf:type owl:Class ;
    rdfs:subClassOf [ rdf:type owl:Restriction ;
                      owl:onProperty :hasPattern ;
                      owl:allValuesFrom :Pattern
                    ] ,
                    [ rdf:type owl:Restriction ;
                      owl:onProperty :hasDescription ;
                      owl:allValuesFrom xsd:string
                    ] ,
                    [ rdf:type owl:Restriction ;
                      owl:onProperty :hasLabel ;
                      owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger ;
                      owl:onDataRange xsd:string
                    ] .
                    

#################################################################
#    Individuals
#################################################################

###  http://purl.org/patternpedia#LinkedOpenPatterns
:LinkedOpenPatterns rdf:type owl:NamedIndividual ,
                             :PatternPedia ;
                    :hasName "PatternPedia - Linked Open Patterns"^^xsd:string ;
                    :hasLogo "https://avatars2.githubusercontent.com/u/26855294?s=400&u=79a17f6856ac0b53e4658f1206362634904eb8b3&v=4"^^xsd:anyURI .
<http://purl.org/patternpedia#LinkedOpenPatterns> <http://purl.org/patternpedia#containsPatternGraph> <http://purl.org/patternpedia/patternlanguages/cloudcomputingpatterns#CloudComputingPatterns> .
<http://purl.org/patternpedia#LinkedOpenPatterns> <http://purl.org/patternpedia#containsPatternGraph> <http://purl.org/patternpedia/patternlanguages/enterpriseintegrationpatterns#EnterpriseIntegrationPatterns> .
<http://purl.org/patternpedia#LinkedOpenPatterns> <http://purl.org/patternpedia#containsPatternGraph> <http://purl.org/patternpedia/patternlanguages/TestlanguageWithRestrictions#TestlanguageWithRestrictions> .
